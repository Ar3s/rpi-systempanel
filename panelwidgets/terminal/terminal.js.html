@!(model)
<div class="row">
	<div class="col-xs-12 terminal-output">
		<pre>
		</pre>
	</div>
</div>
<div class="row">
	<div class="col-xs-9 col-sm-10">
		<input type="text" class="form-control" name="cmd" />
	</div>
	<div class="col-xs-3 col-sm-2">
		<button type="button" class="btn btn-success btnSendCmd"><span class="glyphicon glyphicon-play"></span></button>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function () {
        $.startUpdatingWidgetHtml(socket, @model.user_widget.id, '@model.sid', null, manageTerminalPostData);

        var buttonSelector = '#@(model.user_widget.id_html) .btnSendCmd';
        var textSelector = '#@(model.user_widget.id_html) input[name="cmd"]';
		$(buttonSelector).click(function () {
            $.sendPostDataToWidget(socket, @model.user_widget.id, '@model.sid', { cmd: $(textSelector).val() });
		});
	});

    function manageTerminalPostData(data) {
        var preSelector = '#@(model.user_widget.id_html) .terminal-output pre';
        $(preSelector).text(data);
    }
</script>